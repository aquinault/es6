{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["//main.js\r\n//var ConsoleWrapper = require('./imports/ConsoleWrapper');\r\n//import ConsoleWrapper from \"./imports/ConsoleWrapper\";\r\n\r\nimport Api from \"./imports/Api\";\r\nimport {Service1} from \"./imports/Service1\";\r\nimport co from 'co';\r\n\r\nvar restify = require('restify');\r\n/*\r\nvar x = new ConsoleWrapper();\r\nx.speak();\r\nvar api = new Api();\r\napi.init();\r\n*/\r\n\r\n\r\nvar service1 = new Service1();\r\nservice1.init();\r\n//service1.savePost();\r\n\r\nfunction onerror(err) {\r\n  console.error(err.stack);\r\n}\r\n\r\nvar server = restify.createServer({\r\n  name: 'myapp',\r\n  version: '1.0.0'\r\n});\r\nserver.use(restify.acceptParser(server.acceptable));\r\nserver.use(restify.queryParser());\r\nserver.use(restify.bodyParser());\r\nserver.pre(restify.pre.sanitizePath());\r\n\r\nserver.get('/posts/', function (req, res, next) {\r\n\tco(function *(){\r\n\t\tlet posts = yield service1.findPosts();\t\r\n\t\tres.writeHead(200, {'Content-Type': 'application/json; charset=utf-8'});\r\n  \t\tres.end(JSON.stringify(posts));\r\n\t  \treturn next();\r\n\t }).catch(onerror); \t\r\n});\r\n\r\nserver.get('/posts/remove', function (req, res, next) {\r\n\tco(function *(){\r\n\t\tlet posts = yield service1.removePosts();\t\r\n\t\tres.writeHead(200, {'Content-Type': 'application/json; charset=utf-8'});\r\n  \t\tres.end(JSON.stringify(posts));\r\n\t  \treturn next();\r\n\t }).catch(onerror); \t\r\n});\r\n\r\n\r\nserver.get('/posts/add', function (req, res, next) {\r\n\tco(function *(){\r\n\t\tlet posts = yield service1.addPost();\t\r\n\t\tres.writeHead(200, {'Content-Type': 'application/json; charset=utf-8'});\r\n  \t\tres.end(JSON.stringify(posts));\r\n\t  \treturn next();\r\n\t }).catch(onerror); \t\r\n});\r\n\r\n\r\n\r\nserver.get('/echo2/:name', function (req, res, next) {\r\n\tres.send(req.params); \r\n\treturn next();\r\n});\r\n\r\nserver.listen(8080, function () {\r\n\tconsole.log('%s listening at %s', server.name, server.url);\r\n});\r\n\r\nprocess.on( 'SIGINT', function() {\r\n\tconsole.log( \"\\nGracefully shutting down from SIGINT (Ctrl-C)\" );\r\n\r\n\t// Disconnect Mongo\r\n\tservice1.exit();\r\n\r\n\t// some other closing procedures go here\r\n\tprocess.exit( );\r\n})\r\n"],"sourceRoot":"D:\\code\\rest\\es6"}